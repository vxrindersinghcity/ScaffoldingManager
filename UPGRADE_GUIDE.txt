â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                          â•‘
â•‘      UPGRADE GUIDE - Version 1.0 â†’ 1.1                 â•‘
â•‘                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ¯ WHAT'S NEW IN VERSION 1.1
=============================

âœ¨ MOT Field Now Optional
  â€¢ No longer required when adding vehicles
  â€¢ Perfect for new vehicles or MOT-exempt situations
  â€¢ Just leave blank if not applicable

âœ¨ Truck Maintenance Tracking
  â€¢ New 8-week maintenance cycle tracking
  â€¢ Automatic reminders 7 days before due
  â€¢ Perfect for HGV servicing schedules
  â€¢ Separate from other vehicle checks

âœ¨ Enhanced Vehicle Management
  â€¢ Better display for truck-specific fields
  â€¢ Improved reminder system
  â€¢ All existing data preserved


âš ï¸ IMPORTANT: BACKUP FIRST!
============================

Before upgrading, BACKUP your database:

1. Navigate to: C:\Users\[YourName]\
2. Find: scaffolding_business.db
3. Copy it to a safe location (USB drive, cloud, etc.)
4. Name it something like: scaffolding_business_BACKUP_2024.db


ğŸš€ UPGRADE STEPS (EXISTING USERS)
==================================

STEP 1: Backup Your Database
-----------------------------
See above - THIS IS CRITICAL!


STEP 2: Stop the Application
-----------------------------
â€¢ Close your browser tab
â€¢ Press Ctrl+C in the terminal window
â€¢ Wait for it to fully shut down


STEP 3: Replace Files
----------------------
â€¢ Extract the new version files
â€¢ Replace these files:
  âœ“ scaffolding_manager.py
  âœ“ complete_scaffolding_manager.html
  âœ“ README.txt (new features documented)
  âœ“ QUICK_START.txt (updated)

â€¢ New files you'll receive:
  âœ“ migrate_database.py (IMPORTANT - updates your database)
  âœ“ UPGRADE_GUIDE.txt (this file)


STEP 4: Run Database Migration
-------------------------------
This step is REQUIRED to add the new features:

1. Double-click: migrate_database.py
   (Or run: python migrate_database.py)

2. You should see:
   âœ… Adding 'maintenanceDue' column...
   âœ… Adding 'maintenanceActioned' column...
   âœ… Migration completed successfully!

3. If you see "already up to date", that's fine too!


STEP 5: Start the Application
------------------------------
â€¢ Double-click START_MANAGER.bat as usual
â€¢ Application opens in your browser
â€¢ All your data is still there!


STEP 6: Verify Everything Works
--------------------------------
âœ“ Check your invoices are all there
âœ“ Check your inquiries are all there
âœ“ Check your vehicles are all there
âœ“ Try adding a new truck with maintenance date
âœ“ Check reminders are showing correctly


ğŸ” WHAT CHANGED IN YOUR DATA
=============================

Your Database:
--------------
âœ… All existing data is PRESERVED
âœ… Two new columns added to vehicles table:
   â€¢ maintenanceDue (for truck maintenance dates)
   â€¢ maintenanceActioned (to mark maintenance complete)
âœ… MOT column changed from required to optional
âœ… Nothing is deleted or modified


Your Vehicles:
--------------
âœ… All existing vehicles remain exactly the same
âœ… MOT dates are preserved
âœ… You can now leave MOT blank for new vehicles
âœ… Trucks can now have maintenance dates added


ğŸ’¡ USING THE NEW FEATURES
==========================

Making MOT Optional:
--------------------
â€¢ When adding/editing vehicles, MOT field is no longer required
â€¢ Leave it blank if:
  - Vehicle is brand new
  - Vehicle is MOT-exempt
  - You track MOT elsewhere
â€¢ You can still fill it in if you want reminders


Adding Truck Maintenance:
--------------------------
1. Add or Edit a truck/HGV
2. You'll see a new field:
   ğŸ”§ Maintenance Due (Trucks Only - 8 Week Cycle)
3. Enter the date (8 weeks from last service)
4. You'll get a reminder 7 days before
5. Mark it complete after servicing
6. Update with next maintenance date


Viewing Maintenance Reminders:
-------------------------------
â€¢ Dashboard shows all reminders including maintenance
â€¢ Maintenance reminders appear 7 days before due
â€¢ Color-coded: Red (overdue), Orange (urgent), Yellow (upcoming)
â€¢ Click "Mark Complete" after servicing


ğŸ“Š EXCEL EXPORTS UPDATED
=========================

Vehicle exports now include:
â€¢ Maintenance Due (for trucks with maintenance set)
â€¢ MOT shows "N/A" if not set (instead of blank)


ğŸ†˜ TROUBLESHOOTING
==================

âŒ "Column already exists" error
   â†’ This is actually GOOD! It means you already ran the migration
   â†’ Just start the app normally

âŒ Migration script won't run
   â†’ Make sure Python is installed
   â†’ Try: python migrate_database.py
   â†’ Check you're in the right folder

âŒ Can't see maintenance field
   â†’ Make sure you ran migrate_database.py first
   â†’ Restart the application
   â†’ Select "Truck/HGV" as vehicle type

âŒ Existing vehicles missing
   â†’ Check your database backup
   â†’ The migration doesn't delete data
   â†’ Make sure you're using the same database file

âŒ MOT field still required
   â†’ Clear your browser cache
   â†’ Refresh the page (Ctrl+F5)
   â†’ Make sure you replaced complete_scaffolding_manager.html

âŒ Application won't start
   â†’ Check Python is still installed
   â†’ Try: pip install Flask Flask-CORS
   â†’ Make sure port 5000 is available


ğŸ“ MIGRATION DETAILS (FOR TECH USERS)
======================================

The migration script does the following:

1. Connects to: C:\Users\[You]\scaffolding_business.db
2. Checks if new columns exist
3. Adds if missing:
   - maintenanceDue TEXT (allows NULL)
   - maintenanceActioned BOOLEAN DEFAULT 0
4. Commits changes
5. Existing data is never modified

SQL executed:
-------------
ALTER TABLE vehicles ADD COLUMN maintenanceDue TEXT;
ALTER TABLE vehicles ADD COLUMN maintenanceActioned BOOLEAN DEFAULT 0;


ğŸ“ VERSION HISTORY
==================

Version 1.1 (Current):
---------------------
â€¢ MOT field is now optional
â€¢ 8-week maintenance tracking for trucks
â€¢ Enhanced vehicle display
â€¢ 7-day advance maintenance reminders

Version 1.0 (Original):
-----------------------
â€¢ Invoice management
â€¢ Inquiry tracking
â€¢ Vehicle fleet management
â€¢ MOT/Tax/Insurance tracking
â€¢ Excel exports
â€¢ PDF generation


âœ… UPGRADE COMPLETE CHECKLIST
==============================

Before you start using v1.1, make sure:

â–¡ Backed up database file
â–¡ Stopped the old version
â–¡ Replaced application files
â–¡ Ran migrate_database.py successfully
â–¡ Started the new version
â–¡ Verified all existing data is present
â–¡ Tested adding a vehicle (MOT optional works)
â–¡ Tested adding a truck with maintenance date
â–¡ Checked reminders on dashboard


ğŸ‰ ENJOY THE NEW FEATURES!
===========================

You're now running version 1.1 with:
â€¢ More flexibility (optional MOT)
â€¢ Better truck management (8-week maintenance)
â€¢ All your existing data safe and sound

Happy managing! ğŸ—ï¸


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Need help? Check:
1. README.txt - Complete documentation
2. QUICK_START.txt - Basic usage
3. TROUBLESHOOTING section above

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
